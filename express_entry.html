[custom_form type="Express_entry" form_id="106"]
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
<style>
    .step {
        display: none;
    }

    .education-entry {
        position: relative;
        padding: 20px;
        border: 1px solid #ddd;
        border-radius: 4px;
        margin-bottom: 20px;
    }

    .form-container {
        position: relative;
    }

    .removeForm {
        position: absolute;
        top: 10px;
        right: 10px;
        background: none;
        border: none;
        font-size: 16px;
        cursor: pointer;
    }

    .hidden {
        display: none;
    }

    .error {
        color: red;
    }
</style>
</head>
<div class="text-center mb-4">
    <img src="https://admin.caseeasy.ca/content/logos/CCP2020805dcab8ec0d7a84948be42de8a0f058e84.png" class="img-fluid"
        style="max-height:100px">
</div>
<div class="calBoxBg">
    <div class="container">
        <div>
            <div class="text-center">
                <h1 class="fs-1 ">Express Entry - Skilled Immigrants Assessment</h1>
                <p>This form assesses professionals and skilled workers eligibility for Canadian permanent residence.
                </p>
            </div>
        </div>
        <div id="step1" class="step">
            <form id="step1Form" class=" p-4 border rounded">
                <div class="mb-3">
                    <input type="text" id="first_name" name="first_name" class="form-control" placeholder="First Name">
                    <span id="first_nameError" class="error"></span><br>
                </div>
                <div class="mb-3">
                    <input type="text" id="last_name" name="last_name" class="form-control" placeholder="Last Name">
                    <span id="last_nameError" class="error"></span><br>
                </div>
                <div class="mb-3">
                    <input type="email" id="email" name="email" class="form-control" placeholder="Email">
                    <span id="emailError" class="error"></span><br>
                </div>
                <div class="mb-3">
                    <input type="text" id="phone" name="phone" class="form-control" placeholder="Phone">
                    <span id="phoneError" class="error"></span><br>
                </div>
                <button type="button" id="continueToStep2" class="btn btn-primary">Continue</button>
            </form>
        </div>
        <!-- --------------------------------------------------------------------------- -->
        <div id="step2" class="step">
            <div class="container mt-4">

                <p>hiii1</p>
                <div class="mb-4">
                    <p style="background-color: #007bff; color: #ffffff; font-size: 18px; padding: 10px;">
                        Post Graduate Work Permit Details
                    </p>
                </div>
                <div class="mb-4">
                    <span class="markdown">
                        <p><span id="require-text" style="color:red">*</span>Current Home Address </p>
                    </span>

                    <div id="questionDescription" class="markdown">
                        <p><strong>Include:</strong></p>
                        <blockquote>
                            <p>Street#,Street Name, City, Province/State/District, Country, Postal Code</p>
                        </blockquote>
                    </div>
                    <div class="mb-3">
                        <input type="text" autocomplete="off" control-id="0"
                            class="form-control dynamicLabel dynamicElement" id="label"
                            placeholder="Enter your answer here..." value=""><span
                            class="underline lblunderline"></span>
                        <span id="addressCurrent_error" class="error"></span>
                    </div>
                </div>
                <div class="mb-4">
                    <div id="inputQuestion2">
                        <span class="markdown">
                            <p> <span id="require-text" style="color:red">*</span>Phone Number</p>
                        </span>
                    </div>
                    <div id="questionDescription" class="markdown">
                        <p>Format: Country code - Phone number</p>
                    </div>
                    <input type="text" autocomplete="off" id="label_1" placeholder="Enter your answer here..."
                        value=""><br>
                    <span id="phoneNumber_error" class="error"></span>
                </div>
                <div class="mb-4">
                    <div id="inputQuestion3">
                        <span class="markdown">
                            <p> <span id="require-text" style="color:red">*</span> How much funds do you have available
                                to immigrate to Canada? (Canadian Dollars)</p>
                        </span>
                    </div>
                    <div id="questionDescription" class="markdown"></div>
                    <div class="form-group form-answer" id="answerTab-969">
                        <select id="fundsAvailable" class="form-select">
                            <option value="">Choose</option>
                            <option value="Less than 13,213 (does not meet minimum financial requirement)">Less than
                                13,213 (does not meet minimum financial requirement)</option>
                            <option value="$13,213 (minimum required for 1 family member)">$13,213 (minimum required for
                                1 family member)</option>
                            <option value="$16,449 (minimum required for 2 family members)">$16,449 (minimum required
                                for 2 family members)</option>
                            <option value="$20,222 (minimum required for 3 family members)">$20,222 (minimum required
                                for 3 family members)</option>
                            <option value="$24,553 (minimum required for 4 family members)">$24,553 (minimum required
                                for 4 family members)</option>
                            <option value="$27,847 (minimum required for 5 family members)">$27,847 (minimum required
                                for 5 family members)</option>
                            <option value="$31,407 (minimum required for 6 family members)">$31,407 (minimum required
                                for 6 family members)</option>
                            <option value="$34,967 (minimum required for 7 family members)">$34,967 (minimum required
                                for 7 family members)</option>
                            <option value="$38,527+ (minimum required for 8 or more family members)">$38,527+ (minimum
                                required for 8 or more family members)</option>
                        </select>
                        <span id="fundsAvailable_error" class="error"></span>
                    </div>
                </div>
                <div class="mb-4">
                    <div class="col-xs">
                        <div class="input-box">
                            <div id="inputQuestion4">
                                <span class="markdown">
                                    <p> <span id="require-text" style="color:red">*</span>Language preferred for
                                        communication and
                                        correspondence:</p>
                                </span>
                            </div>
                        </div>
                    </div>
                    <div class="form-group form-answer" id="answerTab-970">
                        <div class="user-answer" field-id="970">
                            <input onchange="checkRules(this)" type="radio" name="radiogroup_970_0" control-id="1"
                                class="nav-lookup" id="9954693d-52e2-4adb-895b-e678275c9be8_0" value="English">
                            <label class="user-control-value" for="9954693d-52e2-4adb-895b-e678275c9be8_0"
                                nav-type="section" nav-id="92">English</label>
                        </div>

                        <div class="user-answer" field-id="970">
                            <input onchange="checkRules(this)" type="radio" name="radiogroup_970_0" control-id="1"
                                class="nav-lookup" id="9954693d-52e2-4adb-895b-e678275c9be8_1" value="French">
                            <label class="user-control-value" for="9954693d-52e2-4adb-895b-e678275c9be8_1"
                                nav-type="section" nav-id="92">French</label>
                        </div>
                        <span id="preferredLanguage_error" class="error"></span>
                    </div>
                </div>

                <!-- Marital Information initially hidden -->
                <div id="maritalSection" style="display: none;">
                    <div class="mb-4">
                        <p style="background-color: #007bff; color: #ffffff; font-size: 18px; padding: 10px;">
                            Marital Information
                        </p>
                    </div>
                    <div class="mb-4">
                        <label for="maritalStatus" class="form-label">What is your marital status? <span
                                class="error">*</span></label>
                        <select id="maritalStatus" name="maritalStatus" class="form-select"
                            onchange="showAdditionalQuestions(this)">
                            <option value="Choose">Choose</option>
                            <option value="Annulled Marriage">Annulled Marriage</option>
                            <option value="Common-Law">Common-Law</option>
                            <option value="Divorced">Divorced</option>
                            <option value="Legally Separated">Legally Separated</option>
                            <option value="Married">Married</option>
                            <option value="Never Married">Never Married</option>
                            <option value="Widowed">Widowed</option>
                        </select>
                        <span id="maritalStatus_error" class="error"></span>
                    </div>
                </div>

                <div id="Common_law_partner" style="display: none;">
                    <div class="mb-4">
                        <p style="background-color: #007bff; color: #ffffff; font-size: 18px; padding: 10px;">
                            Confirmation - Spouse/Common-law partner Details
                        </p>
                    </div>
                    <!-- If yes in this condition then age section will be shown. -->
                    <div class="mb-4">
                        <div id="inputQuestion5">
                            <span class="markdown">
                                <p><span id="require-text1" style="color:red">*</span>Is your spouse or common-law
                                    partner a citizen or permanent resident of Canada?</p>
                            </span>
                        </div>
                        <div class="mb-4">
                            <select id="answerDropdown" class="notranslate" onchange="toggleAgeSection()">
                                <option value="">Choose</option>
                                <option value="Yes" class="user-control-value" id="dropdown_0" nav-type="section"
                                    nav-id="93">Yes</option>
                                <option value="No" class="user-control-value" id="dropdown_1" nav-type="question"
                                    nav-id="964">No</option>
                            </select>
                            <span id="citizenOrResident_error" class="error"></span>
                        </div>
                    </div>

                    <!-- permanent resident of Canada if select yes then show age  -->
                    <div class="mb-4">
                        <div id="age1"></div>
                    </div>

                    <div class="mb-4" id="spouse_section">
                        <div id="inputQuestion6">
                            <span class="markdown">
                                <p><span id="require-text" style="color:red">*</span>Will your spouse or common-law
                                    partner come with you to Canada? </p>
                            </span>
                        </div>
                        <div class="user-answer" field-id="964">
                            <select onchange="spouse_partner()" class="notranslate" id="spouse_partner">
                                <option value="">Choose</option>
                                <option value="Yes" class="user-control-value" id="dropdown_0" nav-type="section"
                                    nav-id="120">
                                    Yes
                                </option>
                                <option value="No" class="user-control-value" id="dropdown_1" nav-type="section"
                                    nav-id="93">
                                    No
                                </option>
                            </select>
                            <span id="spousePartner_error" class="error"></span>
                        </div>
                    </div>
                    <!-- spouse or common-law partner if select no then show age  -->
                    <div class="mb-4">
                        <div id="age2"></div>
                    </div>
                </div>
                <div id="age_extra_containt"></div>
                <!-- Age Information initially hidden -->
                <button type="button" id="previousToStep1" class="btn btn-secondary">Previous</button>
                <button type="button" id="continueToStep3" class="btn btn-primary">Continue</button>
            </div>
        </div>
    </div>
    <!-- --------------------------------------------------------------------------- -->
    <div id="step3" class="step">
        <div class="container mt-4">
            <p>hii2</p>
            <div id="step_2_extra_containt"></div>
            <div id=" Level_of_education">
                <div class="mb-4">
                    <p style="background-color: #007bff; color: #ffffff; font-size: 18px; padding: 10px;">
                        Level of education
                    </p>
                    <p style="color: blue; font-size: 13px;">Complete this section if you are a Single Applicant without
                        a Spouse OR in
                        a Married/Common-law relationship and your partner will not come with you to Canada</p>

                </div>
                <div class="mb-4">
                    <div id="inputQuestion8">
                        <span id="require-text" style="color:red"></span>
                        <span class="markdown">
                            <p>What is your level of education?</p>
                        </span>
                    </div>
                    <div id="questionDescription" class="markdown">
                        <p>Enter the highest level of education for which you:</p>
                        <ul>
                            <li>
                                <p>earned a <strong>Canadian degree, diploma or certificate</strong> or</p>
                            </li>
                            <li>
                                <p>had an Educational Credential Assessment (ECA) if you did your study outside Canada.
                                    (ECAs must be from an approved agency, in the last five years)</p>
                            </li>
                        </ul>
                    </div>
                </div>

                <div class="mb-4">
                    <div class="user-answer" field-id="849">
                        <select onchange="checkRules(this)" class="notranslate">
                            <option value="">Choose</option>
                            <option value="Less than secondary school (high school)" class="user-control-value"
                                id="dropdown_1" nav-type="" nav-id="0">
                                Less than secondary school (high school)
                            </option>
                            <option value="Secondary diploma (high school graduation)" class="user-control-value"
                                id="dropdown_2" nav-type="" nav-id="0">
                                Secondary diploma (high school graduation)
                            </option>
                            <option
                                value="One-year degree, diploma or certificate from  a university, college, trade or technical school, or other institute"
                                class="user-control-value" id="dropdown_3" nav-type="" nav-id="0">
                                One-year degree, diploma or certificate from a university, college, trade or
                                technical school, or other institute
                            </option>
                            <option
                                value="Two-year program at a university, college, trade or technical school, or other institute"
                                class="user-control-value" id="dropdown_4" nav-type="" nav-id="0">
                                Two-year program at a university, college, trade or technical school, or other
                                institute
                            </option>
                            <option
                                value="Bachelor's degree OR  a three or more year program at a university, college, trade or technical school, or other institute"
                                class="user-control-value" id="dropdown_5" nav-type="" nav-id="0">
                                Bachelor's degree OR a three or more year program at a university, college, trade or
                                technical school, or other institute
                            </option>
                            <option
                                value="Two or more certificates, diplomas, or degrees. One must be for a program of three or more years"
                                class="user-control-value" id="dropdown_6" nav-type="" nav-id="0">
                                Two or more certificates, diplomas, or degrees. One must be for a program of three
                                or more years
                            </option>
                            <option
                                value="Master's degree, OR professional degree needed to practice in a licensed profession (For “professional degree,” the degree program must have been in: medicine, veterinary medicine, dentistry, optometry, law, chiropractic medicine, or pharmacy.)"
                                class="user-control-value" id="dropdown_7" nav-type="" nav-id="0">
                                Master's degree, OR professional degree needed to practice in a licensed profession
                                (For “professional degree,” the degree program must have been in: medicine,
                                veterinary medicine, dentistry, optometry, law, chiropractic medicine, or pharmacy.)
                            </option>
                            <option value="Doctoral level university degree (Ph.D.)" class="user-control-value"
                                id="dropdown_8" nav-type="" nav-id="0">
                                Doctoral level university degree (Ph.D.)
                            </option>
                        </select>
                    </div>
                </div>
                <div class="mb-4">
                    <div id="inputQuestion">
                        <span id="require-text" style="color:red"></span>
                        <span class="markdown">
                            <p>Course / Program of Study</p>
                        </span>
                    </div>
                    <div class="user-answer" field-id="850">
                        <div class="user-control-value" id="label_0">
                            <input type="text" autocomplete="off" control-id="0"
                                class="form-control dynamicLabel dynamicElement" id="label_0"
                                placeholder="Enter your answer here..." value=""><span
                                class="underline lblunderline"></span>
                        </div>
                    </div>
                </div>

                <div class="mb-4">
                    <span class="markdown">
                        <p> Have you completed studies in Canada?</p>
                    </span>
                    <div class="user-answer" field-id="851">
                        <select class="notranslate11" id="COmpletedStudies1">
                            <option value="">Choose</option>
                            <option value="Yes" class="user-control-value" id="dropdown_0" nav-type="question"
                                nav-id="852">
                                Yes
                            </option>
                            <option value="No" class="user-control-value" id="dropdown_1" nav-type="section"
                                nav-id="95">
                                No
                            </option>
                        </select>
                    </div>
                </div>
                <div class="mb-4">
                    <div class="view-control tt dynamicElement" data-id="Question" id="inputQuestion">
                        <span class="markdown">
                            <p><span id="require-text" style="color:red">*</span>Has your Spouse or Common-Law Partner
                                completed studies in Canada?</p>
                        </span>
                    </div>
                    <div class="user-answer" field-id="904">
                        <select class="notranslate" onchange="toggleEducationDetails()" id="CompletedStudies">
                            <option value="">Choose</option>
                            <option value="Yes" class="user-control-value" id="radio_mrow_0_962">
                                Yes
                            </option>
                            <option value="No" class="user-control-value" id="radio_mrow_0_962">
                                No
                            </option>
                        </select><br>
                        <span id="CompletedStudies_error" class="error"></span>
                    </div>
                </div>
                <div class="mb-4">
                    <div>
                        <span class="markdown">
                            <p><span id="require-text" style="color:red"></span>What is the level of full-time education
                                earned in
                                Canada?
                            </p>
                        </span>
                    </div>
                    <div id="questionDescription" class="markdown" style=" font-size: 13px;">
                        <p>You completed at least 2 academic years of full-time study (in a program at least 2 years
                            long) at a
                            secondary or
                            post-secondary school in Canada.</p>
                        <p>Full-time study means at least 15 hours of classes per week. You must have stayed in good
                            academic standing
                            (as
                            set out by the school) during that time.</p>
                    </div>


                    <div class="user-answer" field-id="852">
                        <select onchange="checkRules(this)" class="notranslate" id="level_of_eduction">
                            <option value="">Choose</option>
                            <option value="Less than secondary school (high school)" class="user-control-value"
                                id="dropdown_1_0" nav-type="" nav-id="0">
                                Less than secondary school (high school)
                            </option>
                            <option value="Secondary diploma (high school graduation)" class="user-control-value"
                                id="dropdown_2_1" nav-type="" nav-id="0">
                                Secondary diploma (high school graduation)
                            </option>
                            <option
                                value="One-year degree, diploma or certificate from  a university, college, trade or technical school, or other institute"
                                class="user-control-value" id="dropdown_3_2" nav-type="" nav-id="0">
                                One-year degree, diploma or certificate from a university, college, trade or technical
                                school, or other
                                institute
                            </option>
                            <option
                                value="Two-year program at a university, college, trade or technical school, or other institute"
                                class="user-control-value" id="dropdown_4_3" nav-type="" nav-id="0">
                                Two-year program at a university, college, trade or technical school, or other institute
                            </option>
                            <option
                                value="Bachelor's degree OR  a three or more year program at a university, college, trade or technical school, or other institute"
                                class="user-control-value" id="dropdown_5_4" nav-type="" nav-id="0">
                                Bachelor's degree OR a three or more year program at a university, college, trade or
                                technical school,
                                or other institute
                            </option>
                            <option
                                value="Two or more certificates, diplomas, or degrees. One must be for a program of three or more years"
                                class="user-control-value" id="dropdown_6_5" nav-type="" nav-id="0">
                                Two or more certificates, diplomas, or degrees. One must be for a program of three or
                                more years
                            </option>
                            <option
                                value="Master's degree, OR professional degree needed to practice in a licensed profession (For “professional degree,” the degree program must have been in: medicine, veterinary medicine, dentistry, optometry, law, chiropractic medicine, or pharmacy.)"
                                class="user-control-value" id="dropdown_7_6" nav-type="" nav-id="0">
                                Master's degree, OR professional degree needed to practice in a licensed profession (For
                                “professional
                                degree,” the degree program must have been in: medicine, veterinary medicine, dentistry,
                                optometry, law,
                                chiropractic medicine, or pharmacy.)
                            </option>
                            <option value="Doctoral level university degree (Ph.D.)" class="user-control-value"
                                id="dropdown_8_7" nav-type="" nav-id="0">
                                Doctoral level university degree (Ph.D.)
                            </option>
                        </select>
                    </div>
                </div>
            </div>
            <!-- -------------------------------------- -->
            <!--Extra text will be added by condition -->
            <div id="step_3_ext_input" class="ext_input_block"></div>


            <button type="button" id="previousToStep2" class="btn btn-secondary">Previous</button>
            <button type="button" id="continueToStep4" class="btn btn-primary">Continue</button>
            </form>
        </div>
    </div>
    <!-- --------------------------------------------------------------------------- -->
    <div id="step4" class="step">
        <div class="container mt-4">
            <p>hii3</p>
            <!--Extra text will be added by condition -->
            <div id="step_4_ext_input" class="ext_input_block"></div>

            <button type="button" id="previousToStep3" class="btn btn-secondary">Previous</button>
            <button type="button" id="continueToStep5" class="btn btn-primary" >Continue</button>
            </form>
        </div>
        <div id="responseMessage"></div> <!-- Message container -->
    </div>
    <!-- --------------------------------------------------------------------------- -->
    <div id="step5" class="step">
        <div class="container mt-4">
            <p>hii4</p>
            <!-- add extra div  -->
            <div id="add_Canadian_work_experience" class="ext_input_block"></div>
            <!--Extra text will be added by condition -->
            <div id="step_6_ext_input" class="ext_input_block"></div>

            <button type="button" id="previousToStep4" class="btn btn-secondary">Previous</button>
            <button type="button" id="continueToStep6" class="btn btn-primary">Continue</button>
            </form>
        </div>
        <div id="responseMessage"></div> <!-- Message container -->
    </div>
    <!-- --------------------------------------------------------------------------- -->
    <div id="step6" class="step">

        <div class="container mt-4">
            <p>hiii5</p>
            <button type="button" id="previousToStep5" class="btn btn-secondary">Previous</button>
            <button type="button" id="continueToStep7" class="btn btn-primary">Continue</button>
        </div>
        <div id="responseMessage"></div> <!-- Message container -->
    </div>
    <!-- --------------------------------------------------------------------------- -->
    <div id="newtest">
        <!-- Step 7 -->
        <div id="step7" class="step">
            <div class="container mt-4">
                <p>hiii6</p>
                <button type="button" id="previousToStep6" class="btn btn-secondary">Previous</button>
                <button type="button" id="continueToStep8" class="btn btn-primary">Continue</button>
            </div>
            <div id="responseMessage"></div> <!-- Message container -->
        </div>

        <!-- Step 8 -->
        <div id="step8" class="step">
            <div class="container mt-4">
                <p>hiii7</p>
                <button type="button" id="previousToStep7" class="btn btn-secondary">Previous</button>
                <button type="button" id="continueToStep9" class="btn btn-primary">Continue</button>
            </div>
        </div>
    </div>

    <!-- -------------------------------------------------------------------------------------- -->
    <div id="step9" class="step">
        <div class="container mt-4">
            <div class="container" id="additionalDetailscontainer">
                <h2>Additional Information</h2>

                <div class="mb-3">
                    <label for="additionalDetails" class="form-label">Any further information? <span
                            class="error">*</span></label>
                    <input type="text" id="additionalDetails" name="additionalDetails" class="form-control"
                        placeholder="Enter your answer here...">
                    <span id="additionalDetails_error" class="error"></span><br>
                </div>
            </div>
            <button type="button" id="previousToStep8" class="btn btn-secondary">Previous</button>
            <button type="button" id="submitForm" class="btn btn-primary">Submit</button>
        </div>
        <div id="waitMessage" class="text-info mt-2" style="display: none;">Please wait...</div>
        <div id="successMessage" class="text-success mt-2" style="display: none;">Mail sent successfully.</div>
    </div>
</div>
<!-- ------------------------------ -->
<!-- ------------------------------- -->

<div id="step_3_4_extra_input" style="display: none;">
    <div id="proficient_language_section">
        <div class="mb-4">
            <p style="background-color: #007bff; color: #ffffff; font-size: 18px; padding: 10px;">
                Most proficient language
            </p>
            <div id="formDescriptionDetail" class="markdown" style="color: blue; font-size: 13px;">
                <ul>
                    <li>
                        <p>Complete this section if you are a Single Applicant <strong>without a Spouse</strong> OR in a
                            Married/Common-law relationship and your partner will not come with you to Canada</p>
                    </li>
                    <li>
                        <p>Please describe your proficiency in English and/or French under each of the four skills
                            listed
                            below.</p>
                    </li>
                </ul>
            </div>
        </div>
        <!-- Language Proficiency Selection -->
        <div class="mb-4">
            <div class="view-control tt dynamicElement" data-id="Question" id="inputQuestion">
                <span class="markdown">
                    <p><span id="require-text" style="color:red">*</span><span id="proficient_languageError"
                            class="error"></span> What language are you most proficient in?</p>
                </span>
            </div>
            <div id="questionDescription" class="markdown">
                <p style=" font-size: 13px;">Canada recognizes two(2) primary languages, choose the one you are most
                    comfortable communicating.</p>
            </div>
            <div class="form-group form-answer" id="answerTab-853">
                <select onchange="toggleLanguageSection(this)" class="notranslate" id="proficient_language">
                    <option value="Choose">Choose</option>
                    <option value="English" class="user-control-value" id="dropdown_0">
                        English
                    </option>
                    <option value="French" class="user-control-value" id="dropdown_1">
                        French
                    </option>
                </select><br>
            </div>
        </div>
    </div>
    <!-- -------------------------------------------- -->
    <div id="languageContainer" style="display:none; display: flex; flex-direction: column;">
        <!-- English Section -->
        <div id="english_section" style="display: none;">
            <div class="mb-4">
                <p style="background-color: #007bff; color: #ffffff; font-size: 18px; padding: 10px;">
                    Official languages proficiency - English Primary
                </p>
                <p style="color: blue; font-size: 13px;">Complete this section if you are a Single Applicant without a
                    Spouse OR in a Married/Common-law relationship and your partner will not come with you to Canada
                </p>
            </div>
            <!-- English Section -->
            <div class="mb-4">
                <div class="view-control tt dynamicElement" data-id="Question" id="inputQuestion">
                    <span id="require-text" style="color:red"></span>
                    <span class="markdown">
                        <p>What's your level of proficiency for English <strong>Writing</strong>?</p>
                    </span>
                </div>
                <div id="questionDescription" class="markdown">
                    <p>English - First Official language</p>
                </div>
                <div class="user-answer" field-id="854">
                    <select id="writing_proficiency" class="notranslate">
                        <option value="">Choose</option>
                        <option value="Expert - (CLB 10 or more)">Expert - (CLB 10 or more)</option>
                        <option value="Very good - (CLB 9)">Very good - (CLB 9)</option>
                        <option value="Good - (CLB 8)">Good - (CLB 8)</option>
                        <option value="Competent - (CLB 7)">Competent - (CLB 7)</option>
                        <option value="Modest - (CLB 6)">Modest - (CLB 6)</option>
                        <option value="Limited - (CLB 5)">Limited - (CLB 5)</option>
                        <option value="Very Limited - (CLB 4)">Very Limited - (CLB 4)</option>
                        <option value="None at all - (Less than CLB 4)">None at all - (Less than CLB 4)</option>
                    </select>
                </div>
            </div>

            <div class="mb-4">
                <div class="view-control tt dynamicElement" data-id="Question" id="inputQuestion">
                    <span id="require-text" style="color:red"></span>
                    <span class="markdown">
                        <p>What's your level of proficiency for English <strong>Reading</strong>?</p>
                    </span>
                </div>
                <div id="questionDescription" class="markdown">
                    <p>English - First Official language</p>
                </div>
                <div class="form-group form-answer" id="answerTab-855">
                    <select id="reading_proficiency" class="notranslate">
                        <option value="">Choose</option>
                        <option value="Expert - (CLB 10 or more)">Expert - (CLB 10 or more)</option>
                        <option value="Very good - (CLB 9)">Very good - (CLB 9)</option>
                        <option value="Good - (CLB 8)">Good - (CLB 8)</option>
                        <option value="Competent - (CLB 7)">Competent - (CLB 7)</option>
                        <option value="Modest - (CLB 6)">Modest - (CLB 6)</option>
                        <option value="Limited - (CLB 5)">Limited - (CLB 5)</option>
                        <option value="Very Limited - (CLB 4)">Very Limited - (CLB 4)</option>
                        <option value="None at all - (Less than CLB 4)">None at all - (Less than CLB 4)</option>
                    </select>
                </div>
            </div>

            <div class="mb-4">
                <div class="view-control tt dynamicElement" data-id="Question" id="inputQuestion">
                    <span id="require-text" style="color:red"></span>
                    <span class="markdown">
                        <p>What's your level of proficiency for English <strong>Speaking</strong>?</p>
                    </span>
                </div>
                <div id="questionDescription" class="markdown">
                    <p>English - First Official language</p>
                </div>
                <div class="form-group form-answer" id="answerTab-856">
                    <select id="speaking_proficiency" class="notranslate">
                        <option value="">Choose</option>
                        <option value="Expert - (CLB 10 or more)">Expert - (CLB 10 or more)</option>
                        <option value="Very good - (CLB 9)">Very good - (CLB 9)</option>
                        <option value="Good - (CLB 8)">Good - (CLB 8)</option>
                        <option value="Competent - (CLB 7)">Competent - (CLB 7)</option>
                        <option value="Modest - (CLB 6)">Modest - (CLB 6)</option>
                        <option value="Limited - (CLB 5)">Limited - (CLB 5)</option>
                        <option value="Very Limited - (CLB 4)">Very Limited - (CLB 4)</option>
                        <option value="None at all - (Less than CLB 4)">None at all - (Less than CLB 4)</option>
                    </select>
                </div>
            </div>

            <div class="mb-4">
                <div class="view-control tt dynamicElement" data-id="Question" id="inputQuestion">
                    <span id="require-text" style="color:red"></span>
                    <span class="markdown">
                        <p>What's your level of proficiency for English <strong>Listening</strong>?</p>
                    </span>
                </div>
                <div id="questionDescription" class="markdown">
                    <p>English - First Official language</p>
                </div>
                <div class="form-group form-answer" id="answerTab-857">
                    <select id="listening_proficiency" class="notranslate" onchange="WorkExperience()">
                        <option value="">Choose</option>
                        <option value="Expert - (CLB 10 or more)">Expert - (CLB 10 or more)</option>
                        <option value="Very good - (CLB 9)">Very good - (CLB 9)</option>
                        <option value="Good - (CLB 8)">Good - (CLB 8)</option>
                        <option value="Competent - (CLB 7)">Competent - (CLB 7)</option>
                        <option value="Modest - (CLB 6)">Modest - (CLB 6)</option>
                        <option value="Limited - (CLB 5)">Limited - (CLB 5)</option>
                        <option value="Very Limited - (CLB 4)">Very Limited - (CLB 4)</option>
                        <option value="None at all - (Less than CLB 4)">None at all - (Less than CLB 4)</option>
                    </select>
                </div>
            </div>

            <!-- ------------------------- -->
            <div class="mb-4">
                <div class="view-control tt dynamicElement" data-id="Question" id="inputQuestion">
                    <span id="require-text" style="color:red"></span>
                    <span class="markdown">
                        <p>Do you have proficiency information for French as a second official language?</p>
                    </span>
                </div>
                <div class="form-group form-answer" id="answerTab-862">
                    <select id="french_proficiency" class="notranslate">
                        <option value="">Choose</option>
                        <option value="Yes">Yes</option>
                        <option value="No">No</option>
                    </select>
                </div>
            </div>
        </div>
        <!-- French Section -->
        <div id="french_section" style="display: none;">
            <div class="mb-4">
                <p style="background-color: #007bff; color: #ffffff; font-size: 18px; padding: 10px;">
                    Official languages proficiency - French Primary
                </p>
            </div>

            <div class="mb-4">
                <div class="view-control tt dynamicElement" data-id="Question" id="inputQuestion">
                    <span id="require-text" style="color:red"></span>
                    <span class="markdown">
                        <p>What's your level of proficiency for English <strong>Writing</strong>?</p>
                    </span>
                </div>
                <div id="questionDescription" class="markdown">
                    <p>French - Second Official language</p>
                </div>
                <div class="user-answer" field-id="854">
                    <select id="French_writing_proficiency" class="notranslate">
                        <option value="">Choose</option>
                        <option value="Expert - (CLB 10 or more)">Expert - (CLB 10 or more)</option>
                        <option value="Very good - (CLB 9)">Very good - (CLB 9)</option>
                        <option value="Good - (CLB 8)">Good - (CLB 8)</option>
                        <option value="Competent - (CLB 7)">Competent - (CLB 7)</option>
                        <option value="Modest - (CLB 6)">Modest - (CLB 6)</option>
                        <option value="Limited - (CLB 5)">Limited - (CLB 5)</option>
                        <option value="Very Limited - (CLB 4)">Very Limited - (CLB 4)</option>
                        <option value="None at all - (Less than CLB 4)">None at all - (Less than CLB 4)</option>
                    </select>
                </div>
            </div>

            <div class="mb-4">
                <div class="view-control tt dynamicElement" data-id="Question" id="inputQuestion">
                    <span id="require-text" style="color:red"></span>
                    <span class="markdown">
                        <p>What's your level of proficiency for English <strong>Reading</strong>?</p>
                    </span>
                </div>
                <div id="questionDescription" class="markdown">
                    <p>French - Second Official language</p>
                </div>
                <div class="form-group form-answer" id="answerTab-855">
                    <select id="French_reading_proficiency" class="notranslate">
                        <option value="">Choose</option>
                        <option value="Expert - (CLB 10 or more)">Expert - (CLB 10 or more)</option>
                        <option value="Very good - (CLB 9)">Very good - (CLB 9)</option>
                        <option value="Good - (CLB 8)">Good - (CLB 8)</option>
                        <option value="Competent - (CLB 7)">Competent - (CLB 7)</option>
                        <option value="Modest - (CLB 6)">Modest - (CLB 6)</option>
                        <option value="Limited - (CLB 5)">Limited - (CLB 5)</option>
                        <option value="Very Limited - (CLB 4)">Very Limited - (CLB 4)</option>
                        <option value="None at all - (Less than CLB 4)">None at all - (Less than CLB 4)</option>
                    </select>
                </div>
            </div>

            <div class="mb-4">
                <div class="view-control tt dynamicElement" data-id="Question" id="inputQuestion">
                    <span id="require-text" style="color:red"></span>
                    <span class="markdown">
                        <p>What's your level of proficiency for English <strong>Speaking</strong>?</p>
                    </span>
                </div>
                <div id="questionDescription" class="markdown">
                    <p>French - Second Official language</p>
                </div>
                <div class="form-group form-answer" id="answerTab-856">
                    <select id="French_speaking_proficiency" class="notranslate">
                        <option value="">Choose</option>
                        <option value="Expert - (CLB 10 or more)">Expert - (CLB 10 or more)</option>
                        <option value="Very good - (CLB 9)">Very good - (CLB 9)</option>
                        <option value="Good - (CLB 8)">Good - (CLB 8)</option>
                        <option value="Competent - (CLB 7)">Competent - (CLB 7)</option>
                        <option value="Modest - (CLB 6)">Modest - (CLB 6)</option>
                        <option value="Limited - (CLB 5)">Limited - (CLB 5)</option>
                        <option value="Very Limited - (CLB 4)">Very Limited - (CLB 4)</option>
                        <option value="None at all - (Less than CLB 4)">None at all - (Less than CLB 4)</option>
                    </select>
                </div>
            </div>

            <div class="mb-4">
                <div class="view-control tt dynamicElement" data-id="Question" id="inputQuestion">
                    <span id="require-text" style="color:red"></span>
                    <span class="markdown">
                        <p>What's your level of proficiency for English <strong>Listening</strong>?</p>
                    </span>
                </div>
                <div id="questionDescription" class="markdown">
                    <p>French - Second Official language</p>
                </div>
                <div class="form-group form-answer" id="answerTab-857">
                    <select id="French_listening_proficiency" class="notranslate" onchange="WorkExperience()">
                        <option value="">Choose</option>
                        <option value="Expert - (CLB 10 or more)">Expert - (CLB 10 or more)</option>
                        <option value="Very good - (CLB 9)">Very good - (CLB 9)</option>
                        <option value="Good - (CLB 8)">Good - (CLB 8)</option>
                        <option value="Competent - (CLB 7)">Competent - (CLB 7)</option>
                        <option value="Modest - (CLB 6)">Modest - (CLB 6)</option>
                        <option value="Limited - (CLB 5)">Limited - (CLB 5)</option>
                        <option value="Very Limited - (CLB 4)">Very Limited - (CLB 4)</option>
                        <option value="None at all - (Less than CLB 4)">None at all - (Less than CLB 4)</option>
                    </select><br>
                    <span id="French_listening_proficiencyError" class="error"></span>
                </div>
            </div>
        </div>
    </div>

    <div id="Work_experience" style="display:none;">
        <div class="container mt-4">
            <div>
                <div class="mb-4">
                    <p style="background-color: #007bff; color: #ffffff; font-size: 18px; padding: 10px;">
                        Work experience
                    </p>
                    <p style="color: blue; font-size: 13px;">Complete this section if you are coming to Canada with a
                        Spouse/Common-law partner
                    </p>
                </div>

                <div class="custom-form form-section-field" id="order-1" position-id="1" data-required="False">
                    <div class="input-box">
                        <div class="view-control tt dynamicElement" data-id="Question" id="inputQuestion">
                            <span id="require-text" style="color:red"></span>
                            <span class="markdown">
                                <p>In the last 10 years, how many total years of work experience do you have outside of
                                    Canada?</p>
                            </span>
                        </div>
                        <div id="questionDescription" class="markdown">
                            <ul>
                                <li>
                                    <p>It must have been paid, full-time (or an equal amount in part-time), and in only
                                        one
                                        occupation (NOC skill type 0, A or B).</p>
                                </li>
                                <li>
                                    <p>"Skilled work" in the NOC is:</p>
                                </li>
                            </ul>
                            <ol>
                                <li>Managerial jobs (NOC Skill Level 0)</li>
                                <li>Professional jobs (NOC Skill Type A)</li>
                                <li>Technical jobs and skilled trades/manual work (NOC Skill Type B)</li>
                            </ol>
                            <ul>
                                <li>If you aren’t sure of the NOC level for this job, you can <strong><a
                                            href="https://www.canada.ca/en/immigration-refugees-citizenship/services/immigrate-canada/express-entry/eligibility/find-national-occupation-code.html"
                                            target="_blank">find your NOC</a></strong></li>
                            </ul>
                        </div>
                    </div>

                    <div class="form-group form-answer" id="answerTab-925">
                        <div class="user-answer" field-id="925">
                            <select class="notranslate" id="yourNOC">
                                <option value="">Choose</option>
                                <option value="None or less than a year" class="user-control-value"
                                    id="radio_mrow_0_963" nav-type="" nav-id="0">
                                    None or less than a year
                                </option>
                                <option selected="selected" value="1 year" class="user-control-value"
                                    id="radio_mrow_0_963" nav-type="" nav-id="0">
                                    1 year
                                </option>
                                <option value="2 years" class="user-control-value" id="radio_mrow_0_963" nav-type=""
                                    nav-id="0">
                                    2 years
                                </option>
                                <option value="3 years" class="user-control-value" id="radio_mrow_0_963" nav-type=""
                                    nav-id="0">
                                    3 years
                                </option>
                                <option value="4 years" class="user-control-value" id="radio_mrow_0_963" nav-type=""
                                    nav-id="0">
                                    4 years
                                </option>
                                <option value="5 years" class="user-control-value" id="radio_mrow_0_963" nav-type=""
                                    nav-id="0">
                                    5 years
                                </option>
                                <option value="6 years or more" class="user-control-value" id="radio_mrow_0_963"
                                    nav-type="" nav-id="0">
                                    6 years or more
                                </option>
                            </select>
                            <span id="yourNOCError" class="error"></span>
                        </div>
                    </div>
                </div>
            </div>
            <div class="custom-form form-section-field" style="display: flex;">
                <div class="view-control tt dynamicElement" data-id="Question" id="inputQuestion">
                    <span id="require-text" style="color:red"></span>
                    <span class="markdown">
                        <p>What is your job occupation title? [Current OR the most worked in the past ten (10) years
                            that is NOC 0, A or B]</p>
                    </span>
                </div>
                <div class="user-control-value" id="label_0">
                    <input type="text" autocomplete="off" control-id="0"
                        class="form-control dynamicLabel dynamicElement" id="label_0"
                        placeholder="Enter your answer here..." value=""><span class="underline lblunderline"></span>
                </div>
            </div>
            <div class="view-control tt dynamicElement" data-id="Question" id="inputQuestion">
                <span id="require-text" style="color:red"></span>
                <span class="markdown">
                    <p>Have you ever worked in Canada?</p>
                </span>
            </div>
            <div class="user-answer" field-id="926">
                <select onchange="toggleDivs(this)" class="notranslate" id="worked_in_Canada">
                    <option value="">Choose</option>
                    <option value="Yes" class="user-control-value" id="radio_mrow_0_964" nav-type="section">
                        Yes
                    </option>
                    <option value="No" class="user-control-value" id="radio_mrow_0_964" nav-type="section" nav-id="121">
                        No
                    </option>
                </select>
                <span id="worked_in_CanadaError" class="error"></span>
            </div>
        </div>
    </div>
    <!-- ----------------------------------------------- -->
    <!-- Canadian work experience -->
    <div id="Canadian_work_experience" style="display: none;">
        <div class="container mt-4">
            <div class="mb-4">
                <p style="background-color: #007bff; color: #ffffff; font-size: 18px; padding: 10px;">
                    Canadian work experience
                </p>
                <p style="color: blue; font-size: 13px;">Complete this section if you are a Single Applicant without a
                    Spouse OR in a Married/Common-law relationship and your partner will not come with you to Canada
                </p>
            </div>
        </div>
        <div class="mb-4">
            <div class="view-control tt dynamicElement" data-id="Question" id="inputQuestion">
                <span id="require-text" style="color:red"></span>
                <span class="markdown">
                    <p>In the last ten years, how many years of skilled work experience in <strong>Canada</strong>
                        do you have?</p>
                </span>
            </div>
            <div id="questionDescription" class="markdown">
                <p><strong>Note:</strong> It must have been paid and full-time (or an equal amount in part-time).</p>
                <ul>
                    <li>
                        <p>Note: In Canada, the National Occupational Classification (NOC) is the official list of
                            all the jobs in the Canadian labour market. It describes each job according to skill
                            type, group and level.</p>
                    </li>
                    <li>
                        <p>"Skilled work" in the NOC is:</p>
                    </li>
                </ul>
                <ol>
                    <li>managerial jobs (NOC Skill Level 0)</li>
                    <li>professional jobs (NOC Skill Type A)</li>
                    <li>technical jobs and skilled trades/manual work (NOC Skill Type B)</li>
                </ol>
                <ul>
                    <li>If you aren’t sure of the NOC level for this job, you can <strong><a
                                href="https://www.canada.ca/en/immigration-refugees-citizenship/services/immigrate-canada/express-entry/eligibility/find-national-occupation-code.html"
                                target="_blank">find your NOC</a></strong></li>
                </ul>
            </div>
            <div class="user-answer" field-id="872">
                <select onchange="checkRules(this)" class="notranslate">
                    <option value="">Choose</option>
                    <option value="None or less than a year" class="user-control-value" id="dropdown_1" nav-type=""
                        nav-id="0">
                        None or less than a year
                    </option>
                    <option value="1 year" class="user-control-value" id="dropdown_2" nav-type="" nav-id="0">
                        1 year
                    </option>
                    <option value="2 years" class="user-control-value" id="dropdown_3" nav-type="" nav-id="0">
                        2 years
                    </option>
                    <option value="3 years" class="user-control-value" id="dropdown_4" nav-type="" nav-id="0">
                        3 years
                    </option>
                    <option value="4 years" class="user-control-value" id="dropdown_5" nav-type="" nav-id="0">
                        4 years
                    </option>
                    <option value="5 years" class="user-control-value" id="dropdown_6" nav-type="" nav-id="0">
                        5 years
                    </option>
                    <option value="6 years or more" class="user-control-value" id="dropdown_7" nav-type="" nav-id="0">
                        6 years or more
                    </option>
                </select>
            </div>
        </div>
    </div>
    <!-- Job offer -->
    <div id="Job_offer">
        <!--Extra text will be added by condition -->
        <div id="step_5_ext_input" class="ext_input_block"></div>
    </div>

    <!-- ------------------------------------- -->
    <!-- ------------------------------------- -->
    <div id="step_5_6_extra_input" style="display: none;">
        <div class="container mt-4">
            <div class="mb-4">
                <p style="background-color: #007bff; color: #ffffff; font-size: 18px; padding: 10px;">
                    Job offer
                </p>
                <p style="color: blue; font-size: 13px;">Complete this section if you are a Single Applicant without a
                    Spouse OR in a Married/Common-law relationship and your partner will not come with you to Canada
                </p>
            </div>
            <div class="mb-4">
                <div class="view-control tt dynamicElement" data-id="Question" id="inputQuestion">
                    <span class="markdown">
                        <p> <span id="require-text" style="color:red">*</span> <span
                                id="validjoboffer_OtherdetailsError" class="error"></span> Do you have a valid job offer
                            supported by a Labour Market Impact Assessment (if needed)</p>
                    </span>
                </div>
                <div id="questionDescription" class="markdown">
                    <ul>
                        <li>supported by a Labour Market Impact Assessment (LMIA) or exempt from needing one</li>
                        <li>for one year from the time you become a permanent resident</li>
                        <li>A job offer isn’t valid if your employer is:</li>
                    </ul>
                    <ol>
                        <li>an embassy, high commission or consulate in Canada or</li>
                        <li>on the list of ineligible employers.</li>
                    </ol>
                    <ul>
                        <li>Whether an offer is valid or not also depends on different factors, depending on your case.
                        </li>
                    </ul>
                </div>
                <div class="user-answer" field-id="963">
                    <select onchange="togglejobDetails(this)" class="notranslate" id="validjoboffer_Otherdetails">
                        <option value="">Choose</option>
                        <option value="Yes" class="user-control-value" id="dropdown_1" nav-type="section" nav-id="104">
                            Yes
                        </option>
                        <option value="No" class="user-control-value" id="dropdown_2" nav-type="section" nav-id="102">
                            No
                        </option>
                    </select>
                    <span id="validjoboffer_OtherdetailsError" class="error"></span><br>
                </div>
            </div>
        </div>
    </div>
    <!-- --------------------------------------------------- -->
    <!-- Job offer details section (hidden by default) -->
    <div id="job_offer_details" class="mb-4" style="display: none;">
        <div class="container mt-4">
            <p style="background-color: #007bff; color: #ffffff; font-size: 18px; padding: 10px;">
                Job offer details
            </p>
            <p style="color: blue; font-size: 13px;">Complete this section if you are a Single Applicant without a
                Spouse OR in a Married/Common-law relationship and your partner will not come with you to Canada</p>
            <div class="mb-4">
                <div class="view-control tt dynamicElement" data-id="Question" id="inputQuestion">
                    <span id="require-text" style="color:red">*</span>
                    <span class="markdown">
                        <p>Which NOC skill type or level is the job offer?</p>
                    </span>
                </div>
                <div class="user-answer" field-id="899">
                    <input onchange="checkRules(this)" type="radio" name="radiogroup_899_0" control-id="1"
                        class="nav-lookup" id="0116c5c9-8a44-46c3-9b55-6a2025d152e3_0" value="NOC Skill Type 00">
                    <label class="user-control-value" for="0116c5c9-8a44-46c3-9b55-6a2025d152e3_0" nav-type="section"
                        nav-id="102">NOC Skill Type 00</label>
                    <div class="user-answer" field-id="899">
                        <input onchange="checkRules(this)" type="radio" name="radiogroup_899_0" control-id="1"
                            class="nav-lookup" id="0116c5c9-8a44-46c3-9b55-6a2025d152e3_1"
                            value="NOC Skill Level A or B or  any Type 0 other than 00">
                        <label class="user-control-value" for="0116c5c9-8a44-46c3-9b55-6a2025d152e3_1"
                            nav-type="section" nav-id="102">NOC Skill Level A or B or any Type 0 other than 00</label>
                    </div>
                    <div class="user-answer" field-id="899">
                        <input onchange="checkRules(this)" type="radio" name="radiogroup_899_0" control-id="1"
                            class="nav-lookup" id="0116c5c9-8a44-46c3-9b55-6a2025d152e3_2"
                            value="NOC Skill Level C or D">
                        <label class="user-control-value" for="0116c5c9-8a44-46c3-9b55-6a2025d152e3_2"
                            nav-type="section" nav-id="102">NOC Skill Level C or D</label>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- ---------------------------------------------------- -->
    <!-- Other details section (hidden by default) -->
    <div id="other_details" class="mb-4" style="display: none;">
        <div class="container mt-4">
            <div class="mb-4">
                <p style="background-color: #007bff; color: #ffffff; font-size: 18px; padding: 10px;">
                    Other details
                </p>
                <p style="color: blue; font-size: 13px;">Complete this section if you are a Single Applicant without a
                    Spouse OR in a Married/Common-law relationship and your partner will not come with you to Canada</p>
            </div>
            <div class="mb-4">
                <div class="view-control tt dynamicElement" data-id="Question" id="inputQuestion">
                    <span id="require-text" style="color:red"></span>
                    <span class="markdown">
                        <p>Do you have a certificate of qualification from a Canadian province, territory or federal
                            body?</p>
                    </span>
                </div>
                <div id="questionDescription" class="markdown">
                    <p><strong>For people in trade occupations</strong></p>
                </div>
                <div class="user-answer" field-id="884">
                    <select onchange="checkRules(this)" class="notranslate">
                        <option value="">Choose</option>
                        <option value="Yes" class="user-control-value" id="dropdown_1" nav-type="" nav-id="0">
                            Yes
                        </option>
                        <option value="No" class="user-control-value" id="dropdown_2" nav-type="" nav-id="0">
                            No
                        </option>
                    </select>
                </div>
            </div>
            <div class="mb-4">
                <div class="custom-form form-section-field" id="order-2">
                    <div id="inputQuestion">
                        <span class="markdown">
                            <p>Do you have at least one brother or sister living in Canada who is a citizen or permanent
                                resident?</p>
                        </span>
                    </div>
                    <div id="questionDescription" class="markdown">
                        <p><strong>Note:</strong> to answer yes, the brother or sister must be:</p>
                        <ul>
                            <li>
                                <p>18 years old or older</p>
                            </li>
                            <li>
                                <p>related to you or your partner by blood, marriage, common-law partnership or adoption
                                </p>
                            </li>
                            <li>
                                <p>have a parent in common with you or your partner</p>
                            </li>
                            <li>
                                <p>A brother or sister is related to you by:</p>
                            </li>
                        </ul>
                        <ol>
                            <li>blood (biological)</li>
                            <li>adoption</li>
                            <li>marriage (step-brother or step-sister)</li>
                        </ol>
                    </div>
                    <div>
                        <select onchange="checkRules(this)" class="notranslate">
                            <option value="">Choose</option>
                            <option value="Yes" class="user-control-value" id="dropdown_1" nav-type="" nav-id="0">
                                Yes
                            </option>
                            <option value="No" class="user-control-value" id="dropdown_2" nav-type="" nav-id="0">
                                No
                            </option>
                        </select>
                    </div>
                </div>
            </div>
            <div class="mb-4">
                <div id="inputQuestion">
                    <span class="markdown">
                        <p>Do you have a relative who is living in Canada?</p>
                    </span>
                </div>
                <div id="questionDescription" class="markdown">
                    <blockquote>
                        <p>Note: to answer yes, the relative must be:</p>
                    </blockquote>
                    <ul>
                        <li>living in Canada</li>
                        <li>18 years or older and</li>
                        <li>a Canadian citizen or permanent resident</li>
                    </ul>
                    <blockquote>
                        <p>This relative must be a:</p>
                    </blockquote>
                    <ul>
                        <li>parent</li>
                        <li>grandparent</li>
                        <li>child</li>
                        <li>grandchild</li>
                        <li>your or your spouse’s sibling (child of your or your spouse’s parent)</li>
                        <li>your or your spouse’s aunt or uncle (by blood or marriage)</li>
                        <li>your or your spouse’s niece or nephew (grandchild of your or your spouse’s parent)</li>
                    </ul>
                </div>
                <div>
                    <select onchange="checkRules(this)" class="notranslate">
                        <option value="">Choose</option>
                        <option value="Yes" class="user-control-value" id="dropdown_0" nav-type="" nav-id="0">
                            Yes
                        </option>
                        <option value="No" class="user-control-value" id="dropdown_1" nav-type="" nav-id="0">
                            No
                        </option>
                    </select>
                </div>
            </div>
            <!-- Nomination certificate question -->
            <div class="mb-4">
                <div class="view-control tt dynamicElement" data-id="Question" id="inputQuestion">
                    <span class="markdown">
                        <p>Do you have a nomination certificate from a province or territory?</p>
                    </span>
                </div>
                <select id="nominationSelect" onchange="nominationSelect()" class="notranslate">
                    <option value="">Choose</option>
                    <option value="Yes" class="user-control-value" id="dropdown_1" nav-type="question" nav-id="887">
                        Yes
                    </option>
                    <option value="No" class="user-control-value" id="dropdown_2" nav-type="question" nav-id="889">
                        No
                    </option>
                </select>
            </div>
            <!-- If yes, show province/territory selection -->
            <div id="yesdiv" style="display:block;">
                <div class="mb-4">
                    <div class="view-control tt dynamicElement" data-id="Question" id="inputQuestion">
                        <span id="require-text" style="color:red"></span>
                        <span class="markdown">
                            <p>If yes to the above, what is the name of the province or territory that has issued your
                                nomination certificate</p>
                        </span>
                    </div>
                    <select onchange="checkRules(this)" class="notranslate">
                        <option value="">Choose</option>
                        <option value="Alberta" class="user-control-value" id="dropdown_1" nav-type="" nav-id="0">
                            Alberta
                        </option>
                        <option value="British Columbia" class="user-control-value" id="dropdown_2" nav-type=""
                            nav-id="0">
                            British Columbia
                        </option>
                        <option value="Manitoba" class="user-control-value" id="dropdown_3" nav-type="" nav-id="0">
                            Manitoba
                        </option>
                        <option value="New Brunswick" class="user-control-value" id="dropdown_4" nav-type="" nav-id="0">
                            New Brunswick
                        </option>
                        <option value="Newfoundland and Labrador" class="user-control-value" id="dropdown_5" nav-type=""
                            nav-id="0">
                            Newfoundland and Labrador
                        </option>
                        <option value="Northwest Territories" class="user-control-value" id="dropdown_6" nav-type=""
                            nav-id="0">
                            Northwest Territories
                        </option>
                        <option value="Nova Scotia" class="user-control-value" id="dropdown_7" nav-type="" nav-id="0">
                            Nova Scotia
                        </option>
                        <option value="Nunavut" class="user-control-value" id="dropdown_8" nav-type="" nav-id="0">
                            Nunavut
                        </option>
                        <option value="Ontario" class="user-control-value" id="dropdown_9" nav-type="" nav-id="0">
                            Ontario
                        </option>
                        <option value="Prince Edward Island" class="user-control-value" id="dropdown_10" nav-type=""
                            nav-id="0">
                            Prince Edward Island
                        </option>
                        <option value="Quebec" class="user-control-value" id="dropdown_11" nav-type="" nav-id="0">
                            Quebec
                        </option>
                        <option value="Saskatchewan" class="user-control-value" id="dropdown_12" nav-type="" nav-id="0">
                            Saskatchewan
                        </option>
                        <option value="Yukon" class="user-control-value" id="dropdown_13" nav-type="" nav-id="0">
                            Yukon
                        </option>
                    </select>
                </div>
            </div>
            <!-- Canadian degree/diploma/certificate question -->
            <div id="yes_no_div" style="display:block;">
                <div class="mb-4">
                    <div id="inputQuestion">
                        <span class="markdown">
                            <p>Have you earned a Canadian degree, diploma or certificate</p>
                        </span>
                    </div>
                    <div>
                        <select onchange="checkRules(this)" class="notranslate">
                            <option value="">Choose</option>
                            <option value="Yes" class="user-control-value" id="dropdown_0" nav-type="question"
                                nav-id="888">
                                Yes
                            </option>
                            <option value="No" class="user-control-value" id="dropdown_1" nav-type="section"
                                nav-id="126">
                                No
                            </option>
                        </select>
                    </div>
                </div>
            </div>
            <!-- Additional information div -->
            <div id="no" style="display:block;">
                <div class="mb-4">
                    <div id="inputQuestion1">
                        <span id="require-text" style="color:red"></span>
                        <span class="markdown">
                            <p>If you have earned a Canadian degree, diploma or certificate, please select below?</p>
                        </span>
                        <ul>
                            <li>English or French as a Second Language must not have made up more than half your study
                            </li>
                            <li>you must not have studied under an award that required you to return to your home
                                country after
                                graduation to apply your skills and knowledge</li>
                            <li>you must have studied at a school within Canada (foreign campuses don’t count)</li>
                            <li>you had to be enrolled full time for at least eight months, and have been physically
                                present in Canada
                                for at least eight months</li>
                        </ul>
                    </div>
                    <div>
                        <select onchange="checkRules(this)" class="notranslate">
                            <option value="">Choose</option>
                            <option value="Secondary (high school) or less" class="user-control-value" id="dropdown_1"
                                nav-type="" nav-id="0">
                                Secondary (high school) or less
                            </option>
                            <option value="One or two-year diploma or certificate" class="user-control-value"
                                id="dropdown_2" nav-type="" nav-id="0">
                                One or two-year diploma or certificate
                            </option>
                            <option
                                value="Degree, diploma or certificate of three years or longer OR a Master’s, professional or doctoral degree of at least one academic year"
                                class="user-control-value" id="dropdown_3" nav-type="" nav-id="0">
                                Degree, diploma or certificate of three years or longer OR a Master’s, professional or
                                doctoral degree of at least one academic year
                            </option>
                            <option value="None" class="user-control-value" id="dropdown_4" nav-type="" nav-id="0">
                                None
                            </option>
                        </select>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<!-- -------------- -->
<!-- -------------- -->
<!-- Age Information initially hidden -->
<div id="AgeSection" style="display: none;">
    <div class="mb-4">
        <p style="background-color: #007bff; color: #ffffff; font-size: 18px; padding: 10px;">
            Age
        </p>
        <p style="color: blue; font-size: 15px;">Complete this section if you are a Single Applicant without a Spouse OR
            in a
            Married/Common-law relationship and your partner will not come with you to Canada</p>
    </div>
    <div class="mb-4">
        <div id="inputQuestion7">
            <span class="markdown">
                <p> <span id="require-text" style="color:red"></span>How old are you?</p>
            </span>
        </div>
        <select onchange="checkRules(this)" class="notranslate" id="agequations">
            <option value="">Choose</option>
            <option value="17 years of age or less" class="user-control-value" id="dropdown_1" nav-type="" nav-id="0">
                17 years of age or less
            </option>
            <option value="18 years of age" class="user-control-value" id="dropdown_2" nav-type="" nav-id="0">
                18 years of age
            </option>
            <option value="19 years of age" class="user-control-value" id="dropdown_3" nav-type="" nav-id="0">
                19 years of age
            </option>
            <option value="20 years of age" class="user-control-value" id="dropdown_4" nav-type="" nav-id="0">
                20 years of age
            </option>
            <option value="21 years of age" class="user-control-value" id="dropdown_5" nav-type="" nav-id="0">
                21 years of age
            </option>
            <option value="22 years of age" class="user-control-value" id="dropdown_6" nav-type="" nav-id="0">
                22 years of age
            </option>
            <option value="23 years of age" class="user-control-value" id="dropdown_7" nav-type="" nav-id="0">
                23 years of age
            </option>
            <option value="24 years of age" class="user-control-value" id="dropdown_8" nav-type="" nav-id="0">
                24 years of age
            </option>
            <option value="25 years of age" class="user-control-value" id="dropdown_9" nav-type="" nav-id="0">
                25 years of age
            </option>
            <option value="26 years of age" class="user-control-value" id="dropdown_10" nav-type="" nav-id="0">
                26 years of age
            </option>
            <option value="27 years of age" class="user-control-value" id="dropdown_11" nav-type="" nav-id="0">
                27 years of age
            </option>
            <option value="28 years of age" class="user-control-value" id="dropdown_12" nav-type="" nav-id="0">
                28 years of age
            </option>
            <option value="29 years of age" class="user-control-value" id="dropdown_13" nav-type="" nav-id="0">
                29 years of age
            </option>
            <option value="30 years of age" class="user-control-value" id="dropdown_14" nav-type="" nav-id="0">
                30 years of age
            </option>
            <option value="31 years of age" class="user-control-value" id="dropdown_15" nav-type="" nav-id="0">
                31 years of age
            </option>
            <option value="32 years of age" class="user-control-value" id="dropdown_16" nav-type="" nav-id="0">
                32 years of age
            </option>
            <option value="33 years of age" class="user-control-value" id="dropdown_17" nav-type="" nav-id="0">
                33 years of age
            </option>
            <option value="34 years of age" class="user-control-value" id="dropdown_18" nav-type="" nav-id="0">
                34 years of age
            </option>
            <option value="35 years of age" class="user-control-value" id="dropdown_19" nav-type="" nav-id="0">
                35 years of age
            </option>
            <option value="36 years of age" class="user-control-value" id="dropdown_20" nav-type="" nav-id="0">
                36 years of age
            </option>
            <option value="37 years of age" class="user-control-value" id="dropdown_21" nav-type="" nav-id="0">
                37 years of age
            </option>
            <option value="38 years of age" class="user-control-value" id="dropdown_22" nav-type="" nav-id="0">
                38 years of age
            </option>
            <option value="39 years of age" class="user-control-value" id="dropdown_23" nav-type="" nav-id="0">
                39 years of age
            </option>
            <option value="40 years of age" class="user-control-value" id="dropdown_24" nav-type="" nav-id="0">
                40 years of age
            </option>
            <option value="41 years of age" class="user-control-value" id="dropdown_25" nav-type="" nav-id="0">
                41 years of age
            </option>
            <option value="42 years of age" class="user-control-value" id="dropdown_26" nav-type="" nav-id="0">
                42 years of age
            </option>
            <option value="43 years of age" class="user-control-value" id="dropdown_27" nav-type="" nav-id="0">
                43 years of age
            </option>
            <option value="44 years of age" class="user-control-value" id="dropdown_28" nav-type="" nav-id="0">
                44 years of age
            </option>
            <option value="45 years of age or more" class="user-control-value" id="dropdown_29" nav-type="" nav-id="0">
                45 years of age or more
            </option>
        </select>
    </div>
</div>




<script>
    $(document).ready(function () {
        // Show the first step
        $("#step1").show();

        // Handle the transition to step 2
        $("#continueToStep2").click(function () {
            if (validateStep1()) { // Agar validation successful hota hai, to hi Step 2 par jao
                // Hide step 1 and show step 2
                $("#step1").hide();
                $("#step2").show();
            }
        });

        // Handle the transition to step 1
        $("#previousToStep1").click(function () {
            $("#step2").hide();
            $("#step1").show();
        });
        // ----------------------
        // Handle the transition to step 3
        $("#continueToStep3").click(function () {
            if (validateStep2()) { // Agar validation successful hota hai, to hi Step 2 par jao
                // Hide step 2 and show step 3
                $("#step2").hide();
                $("#step3").show();
            }
        });

        // Handle the transition to step 2
        $("#previousToStep2").click(function () {
            $("#step3").hide();
            $("#step2").show();
        });
        // ----------------------
        $("#continueToStep4").click(function () {
            // Hide step 2 and show step 3
            // First, validate Step 3
            if (validateStep3() && validateStep4()) {
                // Check if #french_section is visible
                if ($('#french_section').is(':visible')) {
                    // Now validate French Listening Proficiency only if #french_section is visible
                    var French_listening_proficiency = $('#French_listening_proficiency').val();

                    if (French_listening_proficiency === "") {
                        $('#French_listening_proficiencyError').text("This field is required");
                        return false; // Stop and prevent moving to Step 4
                    } else {
                        $('#French_listening_proficiencyError').text(""); // Clear error if input is valid
                    }
                }

                // If validation is successful or #french_section is not visible, move to Step 4
                $("#step3").hide();
                $("#step4").show();
            }
        });

        // Handle the transition to step 2
        $("#previousToStep3").click(function () {
            $("#step4").hide();
            $("#step3").show();
        });
        // ----------------------
        $("#continueToStep5").click(function () {
            if (validateStep4() && validateStep5()) {
                // Hide step 2 and show step 3
                $("#step4").hide();
                $("#step5").show();
            }
        });

        // Handle the transition to step 2
        $("#previousToStep4").click(function () {
            $("#step5").hide();
            $("#step4").show();
        });
        // ----------------------
        $("#continueToStep6").click(function () {
            // Hide step 2 and show step 3
            if (validateStep6()) {
                $("#step5").hide();
                $("#step6").show();
            }
        });

        // Handle the transition to step 2
        $("#previousToStep5").click(function () {
            $("#step6").hide();
            $("#step5").show();
        });
        // ----------------------
        $("#continueToStep7").click(function () {
            $("#step6").hide();
            $("#step7").show();
        });

        // Handle the transition to step 6
        $("#previousToStep6").click(function () {
            $("#step7").hide();
            $("#step6").show();
        });

        $("#continueToStep8").click(function () {
            // Hide step 7 and show step 8
            $("#step7").hide();
            $("#step8").show();
        });

        $("#previousToStep7").click(function () {
            $("#step8").hide();
            $("#step7").show();
        });

        $("#continueToStep9").click(function () {
            // Hide step 8 and show step 9
            $("#step8").hide();
            $("#step9").show();
        });

        $("#previousToStep8").click(function () {
            $("#step9").hide();
            $("#step8").show();

        });
    });

    function validateStep1() {
        var first_name = $('#first_name').val();
        var last_name = $('#last_name').val();
        var email = $('#email').val();
        var phone = $('#phone').val();
        var isValid = true;

        if (first_name === "") {
            $("#first_nameError").text("First name is required");
            isValid = false;
        } else {
            $("#first_nameError").text("");
        }

        if (last_name === "") {
            $("#last_nameError").text("Last name is required");
            isValid = false;
        } else {
            $("#last_nameError").text("");
        }

        if (email === "") {
            $("#emailError").text("Email is required");
            isValid = false;
        } else {
            $("#emailError").text("");
        }

        if (phone === "") {
            $("#phoneError").text("Phone is required");
            isValid = false;
        } else {
            $("#phoneError").text("");
        }

        return isValid;
    }


    function validateStep2() {
        var address = $('#label').val();
        var phoneNumber = $('#label_1').val();
        var fundsAvailable = $('#fundsAvailable').val();
        var preferredLanguage = $('input[name="radiogroup_970_0"]:checked').val();
        var maritalStatus = $('#maritalStatus').val();
        var isValid = true;

        // Current Home Address Validation
        if (address === "") {
            $('#addressCurrent_error').text("Current Home Address is required");
            isValid = false;
        } else {
            $('#addressCurrent_error').text("");
        }

        // Phone Number Validation
        if (phoneNumber === "") {
            $('#phoneNumber_error').text("Phone Number is required");
            isValid = false;
        } else {
            $('#phoneNumber_error').text("");
        }

        // Funds Available Validation
        if (fundsAvailable === "") {
            $('#fundsAvailable_error').text("Funds Available is required");
            isValid = false;
        } else {
            $('#fundsAvailable_error').text("");
        }

        // Preferred Language Validation
        if (!preferredLanguage) {
            $('#preferredLanguage_error').text("Preferred Language is required");
            isValid = false;
        } else {
            $('#preferredLanguage_error').text("");
        }

        // Marital Status Validation
        if (maritalStatus === "" || maritalStatus === "Choose") {
            $('#maritalStatus_error').text("Marital Status is required");
            isValid = false;
        } else {
            $('#maritalStatus_error').text("");
        }

        // Conditional Validation for Marital Status
        if (maritalStatus !== "Common-Law" && maritalStatus !== "Married") {
            // Preferred Destination Validation
            if ($('#preferredDestination').val() === "") {
                $("#preferredDestination_error").text("Preferred destination is required");
                isValid = false;
            } else {
                $("#preferredDestination_error").text("");
            }
        }

        // Check if #Common_law_partner is visible
        if ($('#Common_law_partner').is(':visible')) {
            // Check if citizenOrResident dropdown is visible and validate
            var citizenOrResident = $('#answerDropdown').val();
            if ($('#answerDropdown').is(':visible')) {
                if (citizenOrResident === "") {
                    $('#citizenOrResident_error').text("This field is required");
                    isValid = false;
                } else {
                    $('#citizenOrResident_error').text("");
                }
            }

            // Check if spousePartner input is visible and validate
            var spousePartner = $('#spouse_partner').val();
            if ($('#spouse_partner').is(':visible')) {
                if (spousePartner === "") {
                    $('#spousePartner_error').text("This field is required");
                    isValid = false;
                } else {
                    $('#spousePartner_error').text("");
                }
            }
        }

        return isValid;
    }

    function validateStep3() {
        var isValid = true;  // Initialize as true, set to false if any validation fails

        // Get the value of CompletedStudies
        var CompletedStudies = $('#CompletedStudies').val();
        // console.log("CompletedStudies value:", CompletedStudies);

        // Validate Completed Studies field
        if (CompletedStudies === "") {
            $('#CompletedStudies_error').text("This field is required");
            isValid = false;
        } else {
            $('#CompletedStudies_error').text("");
        }

        return isValid;
    }
    function validateStep4() {
    var isValid = true;
    var CompletedStudies = $('#CompletedStudies').val();
    var proficient_language = $('#proficient_language').val();

    // Validate CompletedStudies (It should not be empty)
    if (CompletedStudies === "") {
        $('#CompletedStudies_error').text("This field is required");
        isValid = false;
    } else {
        $('#CompletedStudies_error').text(""); // Clear error if valid
    }

    // Validate proficient_language only if CompletedStudies is "No" and proficient_language field is visible
    if (CompletedStudies === "No" && $('#proficient_language').is(':visible')) {
        if (proficient_language === "Choose") {
            $('#proficient_languageError').text("This field is required");
            isValid = false;
        } else {
            $('#proficient_languageError').text(""); // Clear error if valid
        }
    }

    // Additional validation if #french_section is visible
    if ($('#french_section').is(':visible')) {
        var French_listening_proficiency = $('#French_listening_proficiency').val();
        if (French_listening_proficiency === "") {
            $('#French_listening_proficiencyError').text("This field is required");
            isValid = false;
        } else {
            $('#French_listening_proficiencyError').text(""); // Clear error if valid
        }
    }

    // Additional validations for other fields in Step 4 if necessary
    var validjoboffer_Otherdetails = $('#validjoboffer_Otherdetails').val();
    if ($('#step_5_6_extra_input').is(':visible')) {
        if (validjoboffer_Otherdetails === "") {
            $('#validjoboffer_OtherdetailsError').text("This field is required");
            isValid = false;
        } else {
            $('#validjoboffer_OtherdetailsError').text(""); // Clear error if valid
        }
    }

    return isValid;
}

    function validateStep5() {
        var isValid = true;  // Initialize as true, set to false if any validation fails
        // var proficient_language = $('#proficient_language').val();
        // if(proficient_language === "English" && proficient_language === "French"){
        // Get the value of CompletedStudies
        var yourNOC = $('#yourNOC').val();
        var worked_in_Canada = $('#worked_in_Canada').val();
        //  console.log("yourNOC value ----- :", yourNOC);

        // Validate Completed Studies field
        if (yourNOC === "") {
            $('#yourNOCError').text("This field is required");
            isValid = false;
        } else {
            $('#yourNOCError').text("");
        }

        if (worked_in_Canada === "") {
            $('#worked_in_CanadaError').text("This field is required");
            isValid = false;
        } else {
            $('#worked_in_CanadaError').text("");
        }
        // }
        return isValid;
    }

    function validateStep6() {
        var isValid = true;  // Initialize as true, set to false if any validation fails
        var validjoboffer_Otherdetails = $('#validjoboffer_Otherdetails').val();
        //  console.log("yourNOC value ----- :", yourNOC);
        if (validjoboffer_Otherdetails === "") {
            $('#validjoboffer_OtherdetailsError').text("This field is required");
            isValid = false;
        } else {
            $('#validjoboffer_OtherdetailsError').text("");
        }

        return isValid;
    }


    // Form submit karne ke liye
    $("#submitForm").click(function (e) {
        e.preventDefault(); // Default form submission ko prevent karein
        if (validateStep1() && validateStep2() && validateStep3() && validateStep4() && validateStep5() && validateStep6()) {// Saare steps valid hain to hi form submit karein
            $("#waitMessage").show(); // Wait message ko show karein jab tak AJAX request complete nahi hoti

            // AJAX request to submit the form data
            $.ajax({
                type: 'POST',
                url: $('#customForm').attr('action'),
                data: $('#customForm').serialize(),
                success: function (response) {
                    console.log("response" + response);
                    $("#waitMessage").hide(); // Wait message ko hide karein response aane ke baad

                    // Convert serialized data to an object
                    let formData = new URLSearchParams($('#customForm').serialize());

                    // Convert formData to a plain object
                    let formDataObject = Object.fromEntries(formData.entries());

                    // Convert the formDataObject to JSON
                    let formDataJson = JSON.stringify(formDataObject, null, 2);

                    console.log("Form Data JSON:", formDataJson);
                    let firstName = formDataObject['first_name'] || '';
                    let lastName = formDataObject['last_name'] || '';
                    let email = formDataObject['email'] || '';
                    let phone = formDataObject['phone'] || '';
                    // let dateOfBirth = formDataObject['dateOfBirth'] || '';
                    let maritalStatus = formDataObject['maritalStatus'] || '';
                    // let citizenship = formDataObject['citizenship'] || '';
                    // let primaryLanguage = formDataObject['primaryLanguage'] || '';
                    // let currentAddress = formDataObject['currentAddress'] || '';


                    // Response check karein
                    if (response.success) {
                        $("#successMessage").text(response.data.message).show();
                        sendData(firstName, lastName, email, phone, maritalStatus); // Call the sendData function here
                    } else {
                        alert(response.data.message);
                    }
                },
                error: function (error) {
                    $("#waitMessage").hide(); // Error hone par bhi wait message ko hide karein
                    alert('Form submission failed. Please try again.');
                }
            });
        }
    });

    function sendData(firstName, lastName, email, phone, maritalStatus) {
        console.log("sendData function is running");

        const url = 'https://apnaorganicstore.in/canjobs/employeePersonal_detail';
        const data = {
            "name": firstName + " " + lastName,
            "email": email,
            "contact_no": phone,
            "date_of_birth": "",
            "marital_status": maritalStatus,
            "current_location": "",
            "currently_located_country": "",
            "language": "",
            "interested_in": " Express Entry  ",
            "resume": "",
            "profile_photo": "",
            "status": "1",
            "reffer_by": 39,
            "assigned_by": "1",
            "permission": "{\"notification_permission\":{\"lmia\":1,\"visa\":1,\"interview\":1,\"job\":1},\"email_permission\":{\"lmia\":1,\"visa\":1,\"interview\":1,\"job\":1}}"
        };
        console.log(data);
        fetch(url, {
            method: 'PUT',
            headers: {
                "Content-Type": "application/json",
                type: "event",
            },
            body: JSON.stringify(data)
        })
            .then(response => response.text())
            .then(text => {
                try {
                    const jsonData = JSON.parse(text);
                    console.log('Success:', jsonData);
                } catch (error) {
                    console.error('Error parsing JSON:', error);
                }
            })
            .catch(error => {
                console.error('Error:', error);
            });
    }


    // ----------------------------------------------------------------------
    // Language preferred for communication and correspondence When selected, maritalSection will be shown.
    function checkRules(radioBtn) {
        var selectedValue = radioBtn.value;

        // Check if English or French is selected
        if (selectedValue === 'English' || selectedValue === 'French') {
            // Show the marital status section
            document.getElementById('maritalSection').style.display = 'block';
        }
    }

    function showAdditionalQuestions() {
        var maritalStatus = $("#maritalStatus").val();
        var ageSectionDiv = $("#AgeSection");
        var commonLawPartnerDiv = $("#Common_law_partner");
        var step2ExtraContent = $("#step_2_extra_containt");
        var levelOfEducationDiv = $("#Level_of_education");
        var age_extra_containt = $("#age_extra_containt");

        console.log('Marital Status:', maritalStatus);

        if (maritalStatus === "Annulled Marriage" || maritalStatus === "Divorced" || maritalStatus === "Legally Separated" || maritalStatus === "Never Married" || maritalStatus === "Widowed") {
            console.log('Appending to age_extra_containt');
            ageSectionDiv.detach().appendTo(age_extra_containt);  // Detach and append
            ageSectionDiv.show();
            commonLawPartnerDiv.hide();
        } else if (maritalStatus === "Common-Law" || maritalStatus === "Married") {
            console.log('Appending to step_2_extra_containt');
            commonLawPartnerDiv.show();
            ageSectionDiv.detach().appendTo(step2ExtraContent);  // Detach and append
            ageSectionDiv.show();
            levelOfEducationDiv.hide();
        } else {
            commonLawPartnerDiv.hide();
            ageSectionDiv.hide();
        }
    }

    function toggleAgeSection() {
        var spouseDropdown = document.getElementById("answerDropdown").value;
        var ageSection = document.getElementById("AgeSection");
        var age1 = document.getElementById("age1");
        var spouseComingSection = document.getElementById("spouse_section");

        console.log('Spouse Dropdown Value:', spouseDropdown);

        if (spouseDropdown === "Yes") {
            // Append age section to age1 and show it
            age1.appendChild(ageSection);
            ageSection.style.display = "block";
            spouseComingSection.style.display = "none";
        } else if (spouseDropdown === "No") {
            // Hide age section and show spouse section
            ageSection.style.display = "none";
            spouseComingSection.style.display = "block";
        } else {
            // If no option is selected, hide the age section and show the spouse section
            ageSection.style.display = "none";
            spouseComingSection.style.display = "block";
        }
    }

    function spouse_partner() {
        var spouseDropdown = document.getElementById("spouse_partner").value;
        var ageSection = document.getElementById("AgeSection");
        var age2 = document.getElementById("age2");

        console.log('Spouse Dropdown Value:', spouseDropdown);

        if (spouseDropdown === "No") {
            // Append age section to age2 and show it
            age2.appendChild(ageSection);
            ageSection.style.display = "block";
        } else if (spouseDropdown === "Yes") {
            // Hide age section
            ageSection.style.display = "none";
        } else {
            // If no option or another option is selected, hide the age section
            ageSection.style.display = "none";
        }
    }

    function toggleLanguageSection(selectElement) {
        const selectedLanguage = selectElement.value;
        const languageContainer = document.getElementById('languageContainer');
        const englishSection = document.getElementById('english_section');
        const frenchSection = document.getElementById('french_section');
        const canadianWorkExperience = document.getElementById('Canadian_work_experience');
        const addCanadianWorkExperience = document.getElementById('add_Canadian_work_experience');

        if (selectedLanguage === 'Choose') {
            // Append Canadian work experience content when 'Choose' is selected
            addCanadianWorkExperience.innerHTML = canadianWorkExperience.innerHTML;
        } else {
            // Clear the content if not 'Choose'
            addCanadianWorkExperience.innerHTML = '';
        }

        if (selectedLanguage === 'English') {
            languageContainer.style.display = 'flex';
            englishSection.style.display = 'block';
            frenchSection.style.display = 'block';

            // English section upar hogi, French neeche
            englishSection.style.order = '1';
            frenchSection.style.order = '2';
        } else if (selectedLanguage === 'French') {
            languageContainer.style.display = 'flex';
            englishSection.style.display = 'block';
            frenchSection.style.display = 'block';

            // French section upar hogi, English neeche
            frenchSection.style.order = '1';
            englishSection.style.order = '2';
        } else {
            languageContainer.style.display = 'none';
        }
    }

    function toggleEducationDetails() {
        var val = $('#CompletedStudies').val();
        console.log("Selected value: ", val);

        // Reset both ext_input_block divs
        $('#step_3_ext_input').html('');
        $('#step_4_ext_input').html('');

        // Check if the #step_3_4_extra_input element exists
        var stepExtraInput = $('#step_3_4_extra_input');
        if (stepExtraInput.length === 0) {
            console.error('#step_3_4_extra_input element not found.');
            return; // Exit function if the element is not found
        }

        // Clone the element
        var clonedStepExtraInput = stepExtraInput.clone(true);
        console.log("Cloned step_3_4_extra_input HTML: ", clonedStepExtraInput.html());

        // Move cloned #step_3_4_extra_input to the appropriate div and show it
        if (val === 'Yes' || val === '') {
            // Move to step 4 and show
            $('#step_4_ext_input').append(clonedStepExtraInput);
            clonedStepExtraInput.show();
        } else if (val === 'No') {
            // Move to step 3 and show
            $('#step_3_ext_input').append(clonedStepExtraInput);
            clonedStepExtraInput.show();
        } else {
            // Remove if no option selected
            clonedStepExtraInput.remove();
        }
    }
    // Function to handle the visibility of the Work experience section
    // By selecting the value of French_listening_proficiency or listening_proficiency, work experience section will open.
    function WorkExperience() {
        var frenchProficiency = $('#French_listening_proficiency').val();
        var listeningProficiency = $('#listening_proficiency').val();
        var workExperienceDiv = $('#Work_experience');

        console.log("French Writing Proficiency: " + frenchProficiency);
        console.log("English Listening Proficiency: " + listeningProficiency);

        // Check if any proficiency value is selected
        if (frenchProficiency !== "" || listeningProficiency !== "") {
            workExperienceDiv.show(); // Show the work experience section
        } else {
            workExperienceDiv.hide(); // Hide the work experience section
        }
    }


    function toggleDivs(selectElement) {
        var selectedValue = selectElement.value;

        // Reset the ext_input_block divs
        $('#step_6_ext_input').html('');
        $('#step_5_ext_input').html('');

        // Check if #step_5_6_extra_input exists
        var stepExtraInput = $('#step_5_6_extra_input');
        if (stepExtraInput.length === 0) {
            console.error('#step_5_6_extra_input element not found.');
            return; // Exit if the element is not found
        }

        // Clone the element
        var clonedStepExtraInput = stepExtraInput.clone(true);
        console.log("Cloned step_5_6_extra_input HTML: ", clonedStepExtraInput.html());

        // Append cloned element and show/hide Canadian_work_experience based on the selected value
        if (selectedValue === 'Yes') {
            // Append to step_6_ext_input and show Canadian_work_experience
            $('#step_6_ext_input').append(clonedStepExtraInput);
            clonedStepExtraInput.show();

            // Hide the job_offer_details
            $('#job_offer_details').hide();

            // Show Canadian_work_experience
            $('#Canadian_work_experience').show();
        } else if (selectedValue === 'No') {
            // Append to step_5_ext_input and hide Canadian_work_experience
            $('#step_5_ext_input').append(clonedStepExtraInput);
            clonedStepExtraInput.show();

            // Show job_offer_details (if needed in 'No' condition, else can leave it)
            $('#job_offer_details').show();

            // Hide Canadian_work_experience
            $('#Canadian_work_experience').hide();
        } else {
            // If no selection, hide Canadian_work_experience
            $('#Canadian_work_experience').hide();
        }
    }


    function togglejobDetails(selectElement) {
        var selectedValue = selectElement.value;

        // Hide both sections initially
        document.getElementById('job_offer_details').style.display = 'none';
        document.getElementById('other_details').style.display = 'none';

        // Show the appropriate section based on the selected value
        if (selectedValue === 'Yes') {
            document.getElementById('job_offer_details').style.display = 'block';
            document.getElementById('other_details').style.display = 'block';
        } else if (selectedValue === 'No') {
            document.getElementById('other_details').style.display = 'block';
        }
    }

    function nominationSelect() {
        var selectedValue = document.getElementById("nominationSelect").value;

        // Hide all relevant divs initially
        var yesdiv = document.getElementById('yesdiv');
        var yes_no_div = document.getElementById('yes_no_div');
        var no = document.getElementById('no');

        // Show divs based on the selected value
        if (selectedValue === 'Yes') {
            document.getElementById('yesdiv').style.display = 'block'; // Show the province/territory selection div
            document.getElementById('yes_no_div').style.display = 'block'; // Show the Canadian degree/diploma/certificate question
            document.getElementById('no').style.display = 'none'; // Show the degree-related additional information div
        } else if (selectedValue === 'No') {
            document.getElementById('yes_no_div').style.display = 'block'; // Show the Canadian degree/diploma/certificate question
            document.getElementById('no').style.display = 'block'; // Show the degree-related additional information div
            document.getElementById('yesdiv').style.display = 'none';
        } else {
            // Hide all if "Choose" or no value is selected
            document.getElementById('yesdiv').style.display = 'block';
            document.getElementById('yes_no_div').style.display = 'block';
            document.getElementById('no').style.display = 'block';
        }
    }
</script>
[/custom_form]